# 2024/03/03
- preprocessorのステージを追加した

# 2024/03/04
- #includeを読み取ってTK_INCLUDEとするようにした。TK_HASHとTK_HASH_HASHも副産物として追加
- `defined`をどうしようか？プリプロセッサの世界では予約後だけど、そうじゃないときはそうじゃない。まあこれはtokenizerではTK_DEFINEDとかにしておいて、プリプロセッサから抜けるときにTK_IDENTに変換しようかな
- tokeeprocessも一緒にかけるようにした。9cc.hもこうしていた。
- 早いとこ`#include`くらいはやっときたいな。あとは`#if`ができればセルフホストのための最低限のプリプロセッサが動きそう。（セルフホスト用のデバッグスイッチが動けばいいので）
- じゃあコンパイラに事前定義マクロ渡したいね～。

# 2024/03/05
- preprocessの中でTK_INCLUDEが来たら、tokenize(filepath)して置き換えるようにした。今のところinludepathは、コンパイルターゲットに限定している
- ちょっと反則的だけど、IR_COMMENTの第1引数にわたすようにREG_TOKENタイプを追加した。これはアセンブリファイルに出す文字列が文字列+ファイル名でやっているので、そのせい。
- error_atの引数をTokenに変更した。

# 2024/03/09
- これは昨日だけど、型指定子を読めるようにした。constだけ対応している。Type.is_constを追加して、is_constへのassignをエラーにした。
- 日記書く習慣がなかなかないから書き忘れてしまう。
- error_tok()とerror_at_src()を用意して、tokenize中はerror_at_src()でエラーを出すようにした。従来のTokenでerror出す関数はerror_tok()にした。
- long型を追加した。

# 2024/08/13
- 明示CASTの実装中。mccでは命令が扱うレジスタは基本64bit指定ってことにしよう。楽だから。つまりサイズが増える方向のキャストの場合は、何もいらなくなる。楽。
- というか今はレジスタをアクティベートすると64bitで操作する仕様だからしょうがない。
- サイズが下がる場合は切り詰めをしないといけない。
- unsignedは使えない仕様だった。unsignedの分も頑張ってテーブル作ったんだが…次はunsigndを実装するかな…
- というかpointerのテスト動かしてなかったんですけど～

# 2024/08/16
- ポインタの試験用関数が呼ばれていなかったので呼ぶようにした。
- DREFへの書き込みサイズがおかしかったので修正。IR_ASSIGNの左オペランドは書き込み先のアドレスなんだけど、ポインタの中身をロードしてるときにおかしかった。ポインタ変数のサイズは8だけど、例えばintのポインタだったら書き込む先は1じゃないといけないので。
